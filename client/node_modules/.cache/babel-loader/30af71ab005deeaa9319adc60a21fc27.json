{"ast":null,"code":"var _jsxFileName = \"/Users/cwefso/turing/module4/projects/initiate-co/initiate-co-ui/client/src/components/Signup/Signup.js\";\n// Imports\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Link, withRouter } from 'react-router-dom';\nimport Input from '../../ui/input/Input';\nimport H3 from '../../ui/typography/H3';\nimport Icon from '../../ui/icon';\nimport { level1 } from '../../ui/common/shadows';\nimport { white } from '../../ui/common/colors'; // App Imports\n\nimport { APP_URL } from '../../setup/config/env';\nimport userRoutes from '../../setup/routes/user';\nimport { messageShow, messageHide } from '../common/api/actions';\nimport { register } from './api/actions';\nimport AuthCheck from '../auth/AuthCheck'; // Component\n\nclass Signup extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onChange = event => {\n      let user = this.state.user;\n      user[event.target.name] = event.target.value;\n      this.setState({\n        user\n      });\n    };\n\n    this.onSubmit = event => {\n      event.preventDefault();\n      this.setState({\n        isLoading: true\n      });\n      this.props.messageShow('Signing you up, please wait...');\n      this.register(this.state.user).then(response => {\n        this.setState({\n          isLoading: false\n        });\n\n        if (response.data.errors && response.data.errors.length > 0) {\n          this.props.messageShow(response.data.errors[0].message);\n        } else {\n          this.props.messageShow('Signed up successfully.');\n          this.props.history.push(userRoutes.login.path);\n        }\n      }).catch(error => {\n        this.props.messageShow('There was some error signing you up. Please try again.');\n        this.setState({\n          isLoading: false,\n          error: 'Error signing up.'\n        });\n      }).then(() => {\n        window.setTimeout(() => {\n          this.props.messageHide();\n        }, 5000);\n      });\n    };\n\n    this.state = {\n      error: '',\n      isLoading: false,\n      user: {\n        name: '',\n        email: '',\n        password: ''\n      }\n    };\n  }\n\n  register(userDetails) {\n    return dispatch => {\n      return axios.post('http://localhost:8000/', mutation({\n        operation: 'userSignup',\n        variables: userDetails,\n        fields: ['name', 'email', 'password']\n      }));\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.onSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        width: '25em',\n        margin: '0 auto'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      type: \"text\",\n      fullWidth: true,\n      placeholder: \"Name\",\n      required: \"required\",\n      name: \"name\",\n      value: this.state.user.name,\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(Input, {\n      type: \"email\",\n      fullWidth: true,\n      placeholder: \"Email\",\n      required: \"required\",\n      name: \"email\",\n      value: this.state.user.email,\n      onChange: this.onChange,\n      style: {\n        marginTop: '1em'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(Input, {\n      type: \"password\",\n      fullWidth: true,\n      placeholder: \"Password\",\n      required: \"required\",\n      name: \"password\",\n      value: this.state.user.password,\n      onChange: this.onChange,\n      style: {\n        marginTop: '1em'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        marginTop: '2em'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      theme: \"secondary\",\n      disabled: this.state.isLoading,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 15\n      }\n    }, \"Signup\")));\n  }\n\n} // Component Properties\n\n\nSignup.propTypes = {\n  register: PropTypes.func.isRequired,\n  messageShow: PropTypes.func.isRequired,\n  messageHide: PropTypes.func.isRequired\n};\nexport default connect(null, {\n  register,\n  messageShow,\n  messageHide\n})(withRouter(Signup));","map":{"version":3,"sources":["/Users/cwefso/turing/module4/projects/initiate-co/initiate-co-ui/client/src/components/Signup/Signup.js"],"names":["React","Component","PropTypes","connect","Link","withRouter","Input","H3","Icon","level1","white","APP_URL","userRoutes","messageShow","messageHide","register","AuthCheck","Signup","constructor","props","onChange","event","user","state","target","name","value","setState","onSubmit","preventDefault","isLoading","then","response","data","errors","length","message","history","push","login","path","catch","error","window","setTimeout","email","password","userDetails","dispatch","axios","post","mutation","operation","variables","fields","render","width","margin","marginTop","propTypes","func","isRequired"],"mappings":"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","sourcesContent":["// Imports\nimport React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { Link, withRouter } from 'react-router-dom'\n\nimport Input from '../../ui/input/Input'\nimport H3 from '../../ui/typography/H3'\nimport Icon from '../../ui/icon'\nimport { level1 } from '../../ui/common/shadows'\nimport { white } from '../../ui/common/colors'\n\n// App Imports\nimport { APP_URL } from '../../setup/config/env'\nimport userRoutes from '../../setup/routes/user'\nimport { messageShow, messageHide } from '../common/api/actions'\nimport { register } from './api/actions'\nimport AuthCheck from '../auth/AuthCheck'\n\n// Component\nclass Signup extends Component {\n\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      error: '',\n      isLoading: false,\n      user: {\n        name: '',\n        email: '',\n        password: '',\n      }\n    }\n  }\n\n  register(userDetails) {\n    return dispatch => {\n      return axios.post('http://localhost:8000/', mutation({\n        operation: 'userSignup',\n        variables: userDetails,\n        fields: ['name', 'email', 'password']\n      }))\n    }\n  }\n\n  onChange = (event) => {\n    let user = this.state.user\n    user[event.target.name] = event.target.value\n\n    this.setState({\n      user\n    })\n  }\n\n  onSubmit = (event) => {\n    event.preventDefault()\n\n    this.setState({\n      isLoading: true\n    })\n\n    this.props.messageShow('Signing you up, please wait...')\n\n    this.register(this.state.user)\n      .then(response => {\n        this.setState({\n          isLoading: false\n        })\n\n        if (response.data.errors && response.data.errors.length > 0) {\n          this.props.messageShow(response.data.errors[0].message)\n        } else {\n          this.props.messageShow('Signed up successfully.')\n\n          this.props.history.push(userRoutes.login.path)\n        }\n      })\n      .catch(error => {\n        this.props.messageShow('There was some error signing you up. Please try again.')\n\n        this.setState({\n          isLoading: false,\n          error: 'Error signing up.'\n        })\n      })\n      .then(() => {\n        window.setTimeout(() => {\n          this.props.messageHide()\n        }, 5000)\n      })\n  }\n\n  render() {\n    return (\n          <form onSubmit={this.onSubmit}>\n            <div style={{ width: '25em', margin: '0 auto' }}>\n              {/* Name */}\n              <Input\n                type=\"text\"\n                fullWidth={true}\n                placeholder=\"Name\"\n                required=\"required\"\n                name=\"name\"\n                value={this.state.user.name}\n                onChange={this.onChange}\n              />\n\n              {/* Email */}\n              <Input\n                type=\"email\"\n                fullWidth={true}\n                placeholder=\"Email\"\n                required=\"required\"\n                name=\"email\"\n                value={this.state.user.email}\n                onChange={this.onChange}\n                style={{ marginTop: '1em' }}\n              />\n\n              {/* Password */}\n              <Input\n                type=\"password\"\n                fullWidth={true}\n                placeholder=\"Password\"\n                required=\"required\"\n                name=\"password\"\n                value={this.state.user.password}\n                onChange={this.onChange}\n                style={{ marginTop: '1em' }}\n              />\n            </div>\n\n            <div style={{ marginTop: '2em' }}>\n              {/* Form submit */}\n              <button type=\"submit\" theme=\"secondary\" disabled={this.state.isLoading}>\n                Signup\n              </button>\n            </div>\n          </form>\n  )  \n}\n}\n\n// Component Properties\nSignup.propTypes = {\n  register: PropTypes.func.isRequired,\n  messageShow: PropTypes.func.isRequired,\n  messageHide: PropTypes.func.isRequired\n}\n\nexport default connect(null, { register, messageShow, messageHide })(withRouter(Signup))\n"]},"metadata":{},"sourceType":"module"}